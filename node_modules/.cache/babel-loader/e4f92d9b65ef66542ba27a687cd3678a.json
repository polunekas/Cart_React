{"ast":null,"code":"var _jsxFileName = \"/Users/polina/Desktop/Project. Cart/react-app/src/components/Cart/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport CartFooter from \"../CartFooter\";\nimport CartHeader from \"../CartHeader\";\nimport Product from \"../Product\";\nimport data from \"./../../data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const [cart, setCart] = useState(data);\n  const [total, setTotal] = useState({\n    price: cart.reduce((prev, curr) => prev + curr.priceTotal, 0),\n    count: cart.reduce((prev, curr) => prev + curr.count, 0)\n  });\n  useEffect(() => {\n    setTotal({\n      price: cart.reduce((prev, curr) => prev + curr.priceTotal, 0),\n      count: cart.reduce((prev, curr) => prev + curr.count, 0)\n    });\n  }, [cart]);\n\n  const deleteProduct = id => {\n    setCart(cart => cart.filter(product => id !== product.id));\n  };\n\n  const increase = id => {\n    setCart(cart => {\n      return cart.map(product => {\n        if (product.id === id) {\n          return { ...product,\n            count: product.count + 1,\n            priceTotal: (product.count + 1) * product.price\n          };\n        }\n\n        return product;\n      });\n    });\n  };\n\n  const decrease = id => {\n    setCart(cart => {\n      return cart.map(product => {\n        if (product.id === id) {\n          const newCount = product.count - 1 > 1 ? product.count - 1 : 1;\n          return { ...product,\n            count: newCount,\n            priceTotal: newCount * product.price\n          };\n        }\n\n        return product;\n      });\n    });\n  };\n\n  const changeValue = (id, value) => {\n    setCart(cart => {\n      return cart.map(product => {\n        if (product.id === id) {\n          return { ...product,\n            count: value,\n            priceTotal: value * product.price\n          };\n        }\n\n        return product;\n      });\n    });\n  };\n\n  const products = cart.map(product => {\n    return /*#__PURE__*/_jsxDEV(Product, {\n      product: product,\n      deleteProduct: deleteProduct,\n      increase: increase,\n      decrease: decrease,\n      changeValue: changeValue\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"cart\",\n    children: [/*#__PURE__*/_jsxDEV(CartHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this), products, /*#__PURE__*/_jsxDEV(CartFooter, {\n      total: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Cart, \"3ZUgjZy+RK8+FFbW/AxIvipFTUA=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["useEffect","useState","CartFooter","CartHeader","Product","data","Cart","cart","setCart","total","setTotal","price","reduce","prev","curr","priceTotal","count","deleteProduct","id","filter","product","increase","map","decrease","newCount","changeValue","value","products"],"sources":["/Users/polina/Desktop/Project. Cart/react-app/src/components/Cart/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport CartFooter from \"../CartFooter\";\r\nimport CartHeader from \"../CartHeader\";\r\nimport Product from \"../Product\";\r\nimport data from \"./../../data\";\r\n\r\nconst Cart = () => {\r\n\tconst [cart, setCart] = useState(data);\r\n\tconst [total, setTotal] = useState({\r\n\t\t\tprice: cart.reduce((prev, curr)=> prev + curr.priceTotal, 0),\r\n\t\t\tcount: cart.reduce((prev, curr)=> prev + curr.count, 0)\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTotal({\r\n\t\t\tprice: cart.reduce((prev, curr) => prev + curr.priceTotal, 0),\r\n\t\t\tcount: cart.reduce((prev, curr) => prev + curr.count , 0),\r\n\t\t});\r\n\t}, [cart])\r\n\r\n\tconst deleteProduct = (id) => {\r\n\t\tsetCart((cart) => cart.filter((product)=> id !== product.id));\r\n\t}\r\n\r\n\tconst increase = (id) => {\r\n\t\tsetCart((cart) => {\r\n\t\t\treturn cart.map((product) => {\r\n\t\t\t\tif (product.id === id) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...product,\r\n\t\t\t\t\t\tcount: product.count + 1,\r\n\t\t\t\t\t\tpriceTotal: (product.count + 1) * product.price,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn product\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tconst decrease = (id) => {\r\n\t\tsetCart((cart) => {\r\n\t\t\treturn cart.map((product) => {\r\n\t\t\t\tif (product.id === id) {\r\n\r\n\t\t\t\t\tconst newCount = product.count - 1 > 1 ? product.count - 1 : 1;\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...product,\r\n\t\t\t\t\t\tcount: newCount,\r\n\t\t\t\t\t\tpriceTotal: newCount * product.price,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn product\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tconst changeValue = (id, value) => {\r\n\t\tsetCart((cart) => {\r\n\t\t\treturn cart.map((product) => {\r\n\t\t\t\tif (product.id === id) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...product,\r\n\t\t\t\t\t\tcount: value,\r\n\t\t\t\t\t\tpriceTotal: value * product.price\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn product\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tconst products = cart.map((product) => {\r\n\t\treturn (\r\n\t\t\t<Product\r\n\t\t\t\tproduct={product}\r\n\t\t\t\tkey={product.id}\r\n\t\t\t\tdeleteProduct={deleteProduct}\r\n\t\t\t\tincrease={increase}\r\n\t\t\t\tdecrease={decrease}\r\n\t\t\t\tchangeValue={changeValue}\r\n\t\t\t/>\r\n\t\t);\r\n\t})\r\n\r\n    return (\r\n\t\t<section className='cart'>\r\n\t\t\t<CartHeader />\r\n\t\t\t{products}\r\n\t\t\t<CartFooter total={total} />\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}